# Wednesday Frog Bot üê∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Telegram-–±–æ—Ç –¥–ª—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∂–∞–±—ã —Å –º–µ–º–∞–º–∏ –ø—Ä–æ —Å—Ä–µ–¥—É.

## –û–ø–∏—Å–∞–Ω–∏–µ

Wednesday Frog Bot ‚Äî –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç—å Kandinsky –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∂–∞–±—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —á–∞—Ç—ã –∫–∞–∂–¥—É—é —Å—Ä–µ–¥—É –≤ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üê∏ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∂–∞–±—ã —Å –ø–æ–º–æ—â—å—é –ò–ò (Kandinsky API)
- üß† **–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —á–µ—Ä–µ–∑ GigaChat** (—Å fallback –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ)
- üìÖ **–ì–∏–±–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã –≤ —Å—Ä–µ–¥—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 09:00, 12:00, 18:00)
- üåç **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω–µ
- üí¨ **–ú—É–ª—å—Ç–∏—á–∞—Ç-—Ä–∞—Å—Å—ã–ª–∫–∞** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- üé® **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏** –∏ –ø—Ä–æ–º–ø—Ç—ã (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è)
- üìä **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üö¶ **Rate limiting** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
- ‚ö° **Circuit breaker** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–±–æ–µ–≤ API
- üîê **–ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ Telegram
- üîÑ **–†–µ–∑–µ—Ä–≤–Ω—ã–π SupportBot** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ, –µ–¥–∏–Ω–æ–µ —Å—Ç–∞—Ç—É—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ/–æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- üìù **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏–µ–π
- üß™ **Dry-run –ø—Ä–æ–≤–µ—Ä–∫–∏ API** (Kandinsky –∏ GigaChat) –±–µ–∑ —Ç—Ä–∞—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤/–≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- üéØ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—Ç—ã** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- ‚è±Ô∏è **Graceful shutdown** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone https://github.com/your-username/wednesday-tg-bot.git
cd wednesday-tg-bot
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
```bash
cp env_example.txt .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω—ã
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**
```bash
python main.py
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

- `/start` ‚Äî –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
- `/help` ‚Äî –°–ø—Ä–∞–≤–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–∞–Ω–¥–∞–º
- `/frog` ‚Äî –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∂–∞–±—É —Å–µ–π—á–∞—Å (—Å rate limiting)

### –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã (—Ç—Ä–µ–±—É—é—Ç `ADMIN_CHAT_ID`)

- `/status` ‚Äî –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ (dry-run –ø—Ä–æ–≤–µ—Ä–∫–∏ API, –º–µ—Ç—Ä–∏–∫–∏, —Ç–µ–∫—É—â–∏–µ –º–æ–¥–µ–ª–∏)
- `/force_send` ‚Äî –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ —á–∞—Ç—ã
- `/add_chat <chat_id>` ‚Äî –î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç –≤ —Ä–∞—Å—Å—ã–ª–∫—É
- `/remove_chat <chat_id>` ‚Äî –£–¥–∞–ª–∏—Ç—å —á–∞—Ç –∏–∑ —Ä–∞—Å—Å—ã–ª–∫–∏
- `/list_chats` ‚Äî –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ —Å ID
- `/set_kandinsky_model <pipeline_id|name>` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å Kandinsky
- `/set_gigachat_model <model_name>` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å GigaChat
- `/list_models` ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–æ–±–µ —Å–∏—Å—Ç–µ–º—ã)
- `/mod <user_id>` ‚Äî –í—ã–¥–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞
- `/unmod <user_id>` ‚Äî –£–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞
- `/list_mods` ‚Äî –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤
- `/set_frog_limit <threshold>` ‚Äî –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—â–∏–π –ª–∏–º–∏—Ç —Ä—É—á–Ω—ã—Ö `/frog` (1..100, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –∫–≤–æ—Ç–æ–π)
- `/set_frog_used <count>` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—É—á–Ω—ã—Ö `/frog` –∑–∞ –º–µ—Å—è—Ü

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
wednesday_tg_bot/
‚îú‚îÄ‚îÄ main.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å graceful shutdown
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ wednesday_bot.py         # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ support_bot.py           # –†–µ–∑–µ—Ä–≤–Ω—ã–π –±–æ—Ç (SupportBot) –∏ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ handlers.py              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ image_generator.py       # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Kandinsky + dry-run)
‚îÇ   ‚îú‚îÄ‚îÄ prompt_generator.py      # –ö–ª–∏–µ–Ω—Ç GigaChat –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ scheduler.py             # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ logger.py                # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (loguru)
‚îÇ   ‚îú‚îÄ‚îÄ redis_client.py          # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Redis‚Äë–∫–ª–∏–µ–Ω—Ç —Å in‚Äëmemory fallback
‚îÇ   ‚îú‚îÄ‚îÄ postgres_client.py       # –ü—É–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ PostgreSQL (asyncpg)
‚îÇ   ‚îú‚îÄ‚îÄ postgres_schema.py       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è/–º–∏–≥—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ chats_store.py           # –•—Ä–∞–Ω–∏–ª–∏—â–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ (PostgreSQL)
‚îÇ   ‚îú‚îÄ‚îÄ usage_tracker.py         # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API (PostgreSQL)
‚îÇ   ‚îú‚îÄ‚îÄ dispatch_registry.py     # –†–µ–µ—Å—Ç—Ä –æ—Ç–ø—Ä–∞–≤–æ–∫ (anti-duplicate, PostgreSQL)
‚îÇ   ‚îú‚îÄ‚îÄ models_store.py          # –¢–µ–∫—É—â–µ–µ/–¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è Kandinsky/GigaChat (PostgreSQL)
‚îÇ   ‚îú‚îÄ‚îÄ admins_store.py          # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (PostgreSQL)
‚îÇ   ‚îî‚îÄ‚îÄ metrics.py               # –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (PostgreSQL)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ frogs/                   # –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∞—Ä—Ö–∏–≤, –≤ Docker ‚Äî volume frog_images ‚Üí /app/data/frogs)
‚îú‚îÄ‚îÄ logs/                        # –õ–æ–≥–∏ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (–≤ Docker ‚Äî volume logs ‚Üí /app/logs)
‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
‚îî‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
KANDINSKY_API_KEY=your_api_key_here
KANDINSKY_SECRET_KEY=your_secret_key_here
CHAT_ID=your_chat_id_here
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# –í—Ä–µ–º–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Å—Ä–µ–¥—É (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
SCHEDULER_SEND_TIMES=09:00,12:00,18:00

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
SCHEDULER_TZ=Europe/Moscow

# –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0=–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 2=—Å—Ä–µ–¥–∞)
SCHEDULER_WEDNESDAY_DAY=2

# –¢–∞–π–º–∞—É—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (—Å–µ–∫—É–Ω–¥—ã)
GENERATION_TIMEOUT=60

# –ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
MAX_RETRIES=3

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥
ADMIN_CHAT_ID=your_admin_chat_id

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å docker-compose.yml)
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_DB=wednesdaydb
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫—ç—à–∞/–ª–∏–º–∏—Ç–µ—Ä–æ–≤)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your_redis_password  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –µ—Å–ª–∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è

# –ü—Ä–æ–∫—Å–∏ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
HTTPS_PROXY=http://proxy:port
HTTP_PROXY=http://proxy:port

# –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ N –º–∏–Ω—É—Ç)
SCHEDULER_TEST_MINUTES=0
```

## –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ `DispatchRegistry` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ —Ç–∞–π–º-—Å–ª–æ—Ç–∞–º –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —á–∞—Ç –≤ –æ–¥–∏–Ω –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç.

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

`UsageTracker` –≤–µ–¥–µ—Ç —É—á–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –ø–æ –º–µ—Å—è—Ü–∞–º —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏:
- –û–±—â–∞—è –∫–≤–æ—Ç–∞: 100 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –≤ –º–µ—Å—è—Ü (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ü–æ—Ä–æ–≥ `/frog`: 70 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π (–ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è –ø–æ—Ä–æ–≥–æ–º
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–≤–æ—Ç—ã –∏ –ø–æ—Ä–æ–≥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL –∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

### Circuit Breaker

–ü—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö API —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è (5 –º–∏–Ω—É—Ç) –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏.

### Rate Limiting

–ö–æ–º–∞–Ω–¥–∞ `/frog` –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π:
- –ù–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –º–∏–Ω–∏–º—É–º 5 –º–∏–Ω—É—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ì–ª–æ–±–∞–ª—å–Ω–æ: –º–∞–∫—Å–∏–º—É–º 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä–æ–≥ –∏ —Ç–µ–∫—É—â—É—é –≤—ã—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ `/set_frog_limit` –∏ `/set_frog_used`

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ SupportBot ‚Üî –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç

- –°—Ç–∞—Ç—É—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω–µ-–∞–¥–º–∏–Ω—Å–∫–∏—Ö —á–∞—Ç–∞—Ö –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç—Ä–∏ —Å—Ç–∞–¥–∏–∏:
  1. SupportBot: ‚ÄúüöÄ –ó–∞–ø—É—Å–∫–∞—é –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç...‚Äù
  2. SupportBot –ø—Ä–∏ —Å–≤–æ—ë–º –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç ‚Äúüõë Support Bot –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω‚Äù
  3. –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∑–∞–º–µ–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ ‚Äúüõë Support Bot –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω\n‚úÖ Wednesday Frog Bot –∑–∞–ø—É—â–µ–Ω‚Äù
- –í –∞–¥–º–∏–Ω—Å–∫–æ–º —á–∞—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–Ω—ã–µ –∏—Ç–æ–≥–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ú—É–ª—å—Ç–∏—á–∞—Ç

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –î–æ–±–∞–≤–ª—è–µ—Ç —á–∞—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –£–¥–∞–ª—è–µ—Ç —á–∞—Ç—ã, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª —É–¥–∞–ª–µ–Ω
- –†–∞—Å—Å—ã–ª–∞–µ—Ç –≤–æ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.8+** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **python-telegram-bot 22.5** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Telegram API
- **Kandinsky API** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Fusion Brain
- **loguru** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **aiohttp** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- **Pillow** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **python-dotenv** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8 –∏–ª–∏ –≤—ã—à–µ
- –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- –ö–ª—é—á–∏ Kandinsky API (Fusion Brain)
- –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- 100MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ü–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å–º. –≤ `docs/INSTALLATION.md`. –ö—Ä–∞—Ç–∫–æ:

```bash
git clone https://github.com/your-username/wednesday-tg-bot.git
cd wednesday-tg-bot
cp env_example.txt .env
# –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose (Postgres + Redis + –±–æ—Ç + Docker volumes)
docker compose up -d --build
```

### Docker volumes –∏ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `docker compose` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —Ç—Ä–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–º–∞:

- **frog_images** ‚Äî –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ –ø—É—Ç–∏ `/app/data/frogs` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
  –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∂–∞–±—ã (–∫–æ–º–∞–Ω–¥—ã `/frog`, `/force_send` –∏ fallback‚Äë–∞—Ä—Ö–∏–≤).
- **logs** ‚Äî –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ –ø—É—Ç–∏ `/app/logs` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤
  (`wednesday_bot_YYYY-MM-DD.log` —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –∏ —Å–∂–∞—Ç–∏–µ–º).
- **prompt_storage** ‚Äî –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ –ø—É—Ç–∏ `/app/data/prompts` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
  —Ñ–∞–π–ª–æ–≤—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –ø—Ä–æ–º–ø—Ç–æ–≤ GigaChat. –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –ø–∏—à—É—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ—Ç volume
  (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/app/data/prompts`), –∞ –Ω–µ –≤ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–î–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–∏—Ö —Ç–æ–º–æ–≤. –ü—Ä–∏–º–µ—Ä—ã:

```bash
# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –ª–æ–≥–æ–≤ (host‚Äë–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
docker compose run --rm bot sh -c 'ls -R /app/data/frogs /app/logs'

# –ë—ç–∫–∞–ø —Ç–æ–º–∞ frog_images –≤ tar (–∏–∑–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
docker run --rm -v wednesday_tg_bot_frog_images:/data -v "$PWD":/backup alpine \
  sh -c "cd /data && tar czf /backup/frog_images_backup.tgz ."

# –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Ç–æ–º–æ–≤ logs –∏ prompt_storage
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ —Ç–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env` (–∏—Å–∫–ª—é—á–µ–Ω –∏–∑ Git)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- Graceful shutdown –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π API
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —É—Ç–µ—á–∫–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ pipeline ID
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Ç–æ–≤
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –õ–æ–≥–∏ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (1 –¥–µ–Ω—å) –∏ —Å–∂–∞—Ç–∏–µ–º (zip)
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ JSON
- Dry-run –ø—Ä–æ–≤–µ—Ä–∫–∏ API –≤ `/status` (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- Circuit breaker —Ç—Ä–∏–≥–≥–µ—Ä—ã

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –º–µ–º–æ–≤ –ø—Ä–æ —Å—Ä–µ–¥—É üê∏**

## –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –∏ —Å—Ö–µ–º–∞

- **–°—Ö–µ–º–∞ PostgreSQL** –æ–ø–∏—Å–∞–Ω–∞ –≤ –º–æ–¥—É–ª–µ `utils/postgres_schema.py` –∏ SQL-—Ñ–∞–π–ª–∞—Ö –≤ `docs/sql/`.
- –î–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
make migrate
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç `python -m utils.postgres_schema` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è
(`POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB`, `POSTGRES_HOST`, `POSTGRES_PORT`) –∏
–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ —Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã.

## –¢–µ—Å—Ç—ã –∏ CI

- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ—Å—Ç–æ–≤–æ–π Postgres/Redis (—á–µ—Ä–µ–∑ `docker-compose.test.yml`):

```bash
make test        # junit.xml
make test-cov    # junit.xml + coverage.xml
```

- –î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–µ—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤–∞—è –ë–î —É–∂–µ –∑–∞–ø—É—â–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ):

```bash
make test-no-containers
```

- –ü–æ–ª–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π CI-–ø–∞–π–ø–ª–∞–π–Ω (lint + type + migrate + tests + build Docker image):

```bash
make ci
```

### GitHub Actions

- –û—Å–Ω–æ–≤–Ω–æ–π workflow CI —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ `.github/workflows/ci.yml` –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —à–∞–≥–∏:
  - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∑–∞–ø—É—Å–∫ `ruff` (lint);
  - –∑–∞–ø—É—Å–∫ `mypy` (type-check);
  - `make migrate` (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã –≤ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î);
  - `make test-cov` (pytest —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º);
  - `make build` (—Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ –±–æ—Ç–∞).

CI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã PostgreSQL –∏ Redis –≤ job, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
volume-backed –ø—É—Ç–µ–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤.
